<!DOCTYPE html>
<html>
<body style="margin:0; padding:0; font-family:Arial, sans-serif;">

<div id="donor-message" style="display:none; padding:20px; background:#fff3d6; border-radius:8px; margin-bottom:20px;">
  <h2>Thank you for donating!</h2>
  <p>Your contribution directly supports unhoused individuals in Massachusetts. Scroll down to see exactly how your donation is used.</p>
</div>

<script>
  // Check iframe URL
  const iframeParams = new URLSearchParams(window.location.search);
  const iframeFlag = iframeParams.get('donor');

  // Check parent URL (Google Sites strips query params unless we force them)
  let parentFlag = null;
  try {
    const parentURL = document.referrer;
    if (parentURL && parentURL.includes("?")) {
      const parentParams = new URL(parentURL).searchParams;
      parentFlag = parentParams.get('donor');
    }
  } catch (e) {
    parentFlag = null;
  }

  // Show banner only if BOTH iframe and parent say donor=true
  if (iframeFlag === 'true' && parentFlag === 'true') {
    document.getElementById('donor-message').style.display = 'block';
  }
</script>

</body>
</html>
